pots = "..#....##.#.#.####..#.######..##.#.########..#...##...##...##.#.#...######.###....#...##..#.#....##.##........................................................................................................"
rules = {".#.##":"#",".#.#.":"#","#.#.#":".",".####":".",".#...":".","#..##":".","..#.#":"#","#.#..":".","#####":".","....#":".","...##":".","..##.":".","##.#.":"#","##..#":".","##...":"#","..###":"#",".##..":"#","###..":".","#..#.":".","##.##":".","..#..":"#",".##.#":"#","####.":"#","#.###":".","#...#":"#","###.#":"#","...#.":"#",".###.":".",".#..#":"#",".....":".","#....":".","#.##.":"#"}

last = 0

for i in range(110):
    copy = pots
    for j in range(len(pots) - 4):
        
        con = pots[j - 2] + pots[j - 1] + pots[j ] + pots[j + 1] + pots[j + 2]
        res = rules[con]
        list1 = list(copy)
        list1[j] = res
        copy = ''.join(list1)
    total = 0
    for index, k in enumerate(pots[2:]):
        if k == "#":
            total += index
            #print(index)
    print(pots[70:], i, total, last - total)
    last = total
    pots = copy

print(pots)
print(pots)

pots = "..............................................................................................###..###..#...." #689
pots = "..............................................................................................#....#....#...." #297
pots = ".............................................................................................##...##...##...." #591

total = 0
for index, i in enumerate(pots):
    if i == "#":
        total += index
        print(index)


print(total)

# 2062 + (50000000000 - 91) * 15
